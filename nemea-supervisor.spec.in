Summary: Controller and monitoring module for Nemea
Name: nemea-supervisor
Version: @PACKAGE_VERSION@
Release: @RELEASE@
URL: http://www.liberouter.org/nemea
Source: https://www.liberouter.org/repo/SOURCES/%{name}-%{version}-%{release}.tar.gz
Group: Liberouter
License: BSD
Vendor: CESNET, z.s.p.o.
Packager: @USERNAME@ <@USERMAIL@>
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}
Requires: libtrap graphviz libxml2
BuildRequires: gcc make doxygen pkgconfig libtrap-devel libxml2-devel
Provides: nemea-supervisor

%description

%prep
%setup

%build
./configure --prefix=%{_prefix} --libdir=%{_libdir} --sysconfdir=%{_sysconfdir}/nemea --bindir=%{_bindir}/nemea --datarootdir=%{_datarootdir} --docdir=%{_docdir}/nemea-supervisor -q --enable-silent-rules;
make -j5

%install
make -j5 DESTDIR=$RPM_BUILD_ROOT install

%post
chkconfig --add nemea-supervisor

%files
%{_bindir}/nemea/*
%{_docdir}/nemea-supervisor/README
%{_docdir}/nemea-supervisor/README.munin
%{_sysconfdir}/nemea/supervisor_config.xml
%{_sysconfdir}/init.d/nemea-supervisor
%{_datarootdir}/munin/plugins/nemea_supervisor

